{"ast":null,"code":"// import React, { Component } from \"react\";\n// class test extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       list: {},\n//     };\n//   }\n//   componentDidMount() {\n//     const WebSocket = require(\"ws\");\n//     const socket = new WebSocket(\n//       // \"wss://protected-brook-89084.herokuapp.com/ws/location/\"\n//       \"ws://192.168.4.209/w/tag/1/\",\n//       \"8e1640c34c4bbdfd28964174748333b3a01b3699\"\n//     );\n//     socket.addEventListener(\"open\", function (event) {\n//       socket.send(\"Hello Server!\");\n//     });\n//     socket.addEventListener(\"message\", function (event) {\n//       const data = JSON.parse(event.data);\n//       this.setState({ list: data });\n//       console.log(data);\n//     });\n//     socket.addEventListener(\"open\", function (event) {\n//       socket.send(\" Server Error!\");\n//     });\n//   }\n//   render() {\n//     return (\n//       <div>\n//         {/* <childComponent websocket={this.socket} /> */}\n//         {console.log(this.data)}\n//       </div>\n//     );\n//   }\n// }\n// export default test;\nexport const test = () => {\n  const socket = new WebSocket( // \"wss://protected-brook-89084.herokuapp.com/ws/location/\"\n  \"wss://192.168.4.209\" + \"/ws/tag/1/\", \"e7b26a88637b30ca2cec67c94aedf2d2f9b4e214\");\n\n  socket.onopen = function (e) {\n    console.log(\"Hello websocket\");\n    const data = {\n      message: JSON.stringify({\n        type: \"add_tags\",\n        tags: [\"meter_1phase.RI-F550.v1n\"]\n      })\n    };\n    socket.send(data);\n  };\n\n  socket.onmessage = function (e) {\n    const data = JSON.parse(e.data); // this.setState({ list: data });\n\n    console.log(\"DATA : \" + data + \"\\n\");\n  };\n\n  socket.onclose = function (e) {\n    console.error(\"Chat socket closed unexpectedly\");\n  };\n};","map":{"version":3,"sources":["/Users/kittathat/Documents/window/SE/Year 4/Year 4 Project/Bluetooth-frontend/src/test.js"],"names":["test","socket","WebSocket","onopen","e","console","log","data","message","JSON","stringify","type","tags","send","onmessage","parse","onclose","error"],"mappings":"AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,OAAO,MAAMA,IAAI,GAAG,MAAM;AACxB,QAAMC,MAAM,GAAG,IAAIC,SAAJ,EACb;AACA,0BAAwB,YAFX,EAGb,0CAHa,CAAf;;AAMAD,EAAAA,MAAM,CAACE,MAAP,GAAgB,UAAUC,CAAV,EAAa;AAC3BC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,UAAMC,IAAI,GAAG;AACXC,MAAAA,OAAO,EAAEC,IAAI,CAACC,SAAL,CAAe;AACtBC,QAAAA,IAAI,EAAE,UADgB;AAEtBC,QAAAA,IAAI,EAAE,CAAC,0BAAD;AAFgB,OAAf;AADE,KAAb;AAMAX,IAAAA,MAAM,CAACY,IAAP,CAAYN,IAAZ;AACD,GATD;;AAWAN,EAAAA,MAAM,CAACa,SAAP,GAAmB,UAAUV,CAAV,EAAa;AAC9B,UAAMG,IAAI,GAAGE,IAAI,CAACM,KAAL,CAAWX,CAAC,CAACG,IAAb,CAAb,CAD8B,CAG9B;;AAEAF,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAYC,IAAZ,GAAmB,IAA/B;AACD,GAND;;AAQAN,EAAAA,MAAM,CAACe,OAAP,GAAiB,UAAUZ,CAAV,EAAa;AAC5BC,IAAAA,OAAO,CAACY,KAAR,CAAc,iCAAd;AACD,GAFD;AAGD,CA7BM","sourcesContent":["// import React, { Component } from \"react\";\n\n// class test extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       list: {},\n//     };\n//   }\n\n//   componentDidMount() {\n//     const WebSocket = require(\"ws\");\n//     const socket = new WebSocket(\n//       // \"wss://protected-brook-89084.herokuapp.com/ws/location/\"\n//       \"ws://192.168.4.209/w/tag/1/\",\n//       \"8e1640c34c4bbdfd28964174748333b3a01b3699\"\n//     );\n\n//     socket.addEventListener(\"open\", function (event) {\n//       socket.send(\"Hello Server!\");\n//     });\n\n//     socket.addEventListener(\"message\", function (event) {\n//       const data = JSON.parse(event.data);\n//       this.setState({ list: data });\n//       console.log(data);\n//     });\n\n//     socket.addEventListener(\"open\", function (event) {\n//       socket.send(\" Server Error!\");\n//     });\n\n//   }\n//   render() {\n//     return (\n//       <div>\n//         {/* <childComponent websocket={this.socket} /> */}\n//         {console.log(this.data)}\n//       </div>\n//     );\n//   }\n// }\n\n// export default test;\n\nexport const test = () => {\n  const socket = new WebSocket(\n    // \"wss://protected-brook-89084.herokuapp.com/ws/location/\"\n    \"wss://192.168.4.209\" + \"/ws/tag/1/\",\n    \"e7b26a88637b30ca2cec67c94aedf2d2f9b4e214\"\n  );\n\n  socket.onopen = function (e) {\n    console.log(\"Hello websocket\");\n    const data = {\n      message: JSON.stringify({\n        type: \"add_tags\",\n        tags: [\"meter_1phase.RI-F550.v1n\"],\n      }),\n    };\n    socket.send(data);\n  };\n\n  socket.onmessage = function (e) {\n    const data = JSON.parse(e.data);\n\n    // this.setState({ list: data });\n\n    console.log(\"DATA : \" + data + \"\\n\");\n  };\n\n  socket.onclose = function (e) {\n    console.error(\"Chat socket closed unexpectedly\");\n  };\n};\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"// import React, { Component } from \"react\";\n// class test extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       list: {},\n//     };\n//   }\n//   componentDidMount() {\n//     const WebSocket = require(\"ws\");\n//     const socket = new WebSocket(\n//       // \"wss://protected-brook-89084.herokuapp.com/ws/location/\"\n//       \"ws://192.168.4.209/w/tag/1/\",\n//       \"8e1640c34c4bbdfd28964174748333b3a01b3699\"\n//     );\n//     socket.addEventListener(\"open\", function (event) {\n//       socket.send(\"Hello Server!\");\n//     });\n//     socket.addEventListener(\"message\", function (event) {\n//       const data = JSON.parse(event.data);\n//       this.setState({ list: data });\n//       console.log(data);\n//     });\n//     socket.addEventListener(\"open\", function (event) {\n//       socket.send(\" Server Error!\");\n//     });\n//   }\n//   render() {\n//     return (\n//       <div>\n//         {/* <childComponent websocket={this.socket} /> */}\n//         {console.log(this.data)}\n//       </div>\n//     );\n//   }\n// }\n// export default test;\nconst WebSocket = require(\"ws\");\n\nconst socket = new WebSocket( // \"wss://protected-brook-89084.herokuapp.com/ws/location/\"\n\"wss://192.168.4.209\" + \"/ws/tag/1/\", \"e7b26a88637b30ca2cec67c94aedf2d2f9b4e214\");\n\nsocket.onopen = function (e) {\n  console.log(\"Hello websocket\");\n  socket.send(\"Here's some text that the server is urgently awaiting!\");\n};\n\nsocket.onmessage = function (e) {\n  const data = JSON.parse(e.data); // this.setState({ list: data });\n\n  console.log(\"DATA : \" + data + \"\\n\");\n};\n\nsocket.onclose = function (e) {\n  console.error(\"Chat socket closed unexpectedly\");\n}; // export const test = () => {\n//   const socket = new WebSocket(\n//     // \"wss://protected-brook-89084.herokuapp.com/ws/location/\"\n//     \"wss://192.168.4.209\" + \"/ws/tag/1/\",\n//     \"e7b26a88637b30ca2cec67c94aedf2d2f9b4e214\"\n//   );\n//   socket.onopen = function (e) {\n//     console.log(\"Hello websocket\");\n//     const data = {\n//       message: JSON.stringify({\n//         type: \"add_tags\",\n//         tags: [\"meter_1phase.RI-F550.v1n\"],\n//       }),\n//     };\n//     socket.send(data);\n//   };\n//   socket.onmessage = function (e) {\n//     const data = JSON.parse(e.data);\n//     // this.setState({ list: data });\n//     console.log(\"DATA : \" + data + \"\\n\");\n//   };\n//   socket.onclose = function (e) {\n//     console.error(\"Chat socket closed unexpectedly\");\n//   };\n// };","map":{"version":3,"sources":["/Users/kittathat/Documents/window/SE/Year 4/Year 4 Project/Bluetooth-frontend/src/test.js"],"names":["WebSocket","require","socket","onopen","e","console","log","send","onmessage","data","JSON","parse","onclose","error"],"mappings":"AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,MAAMA,SAAS,GAAGC,OAAO,CAAC,IAAD,CAAzB;;AACA,MAAMC,MAAM,GAAG,IAAIF,SAAJ,EACb;AACA,wBAAwB,YAFX,EAGb,0CAHa,CAAf;;AAMAE,MAAM,CAACC,MAAP,GAAgB,UAAUC,CAAV,EAAa;AAC3BC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAJ,EAAAA,MAAM,CAACK,IAAP,CAAY,wDAAZ;AACD,CAHD;;AAKAL,MAAM,CAACM,SAAP,GAAmB,UAAUJ,CAAV,EAAa;AAC9B,QAAMK,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWP,CAAC,CAACK,IAAb,CAAb,CAD8B,CAG9B;;AAEAJ,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAYG,IAAZ,GAAmB,IAA/B;AACD,CAND;;AAQAP,MAAM,CAACU,OAAP,GAAiB,UAAUR,CAAV,EAAa;AAC5BC,EAAAA,OAAO,CAACQ,KAAR,CAAc,iCAAd;AACD,CAFD,C,CAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA","sourcesContent":["// import React, { Component } from \"react\";\n\n// class test extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       list: {},\n//     };\n//   }\n\n//   componentDidMount() {\n//     const WebSocket = require(\"ws\");\n//     const socket = new WebSocket(\n//       // \"wss://protected-brook-89084.herokuapp.com/ws/location/\"\n//       \"ws://192.168.4.209/w/tag/1/\",\n//       \"8e1640c34c4bbdfd28964174748333b3a01b3699\"\n//     );\n\n//     socket.addEventListener(\"open\", function (event) {\n//       socket.send(\"Hello Server!\");\n//     });\n\n//     socket.addEventListener(\"message\", function (event) {\n//       const data = JSON.parse(event.data);\n//       this.setState({ list: data });\n//       console.log(data);\n//     });\n\n//     socket.addEventListener(\"open\", function (event) {\n//       socket.send(\" Server Error!\");\n//     });\n\n//   }\n//   render() {\n//     return (\n//       <div>\n//         {/* <childComponent websocket={this.socket} /> */}\n//         {console.log(this.data)}\n//       </div>\n//     );\n//   }\n// }\n\n// export default test;\n\nconst WebSocket = require(\"ws\");\nconst socket = new WebSocket(\n  // \"wss://protected-brook-89084.herokuapp.com/ws/location/\"\n  \"wss://192.168.4.209\" + \"/ws/tag/1/\",\n  \"e7b26a88637b30ca2cec67c94aedf2d2f9b4e214\"\n);\n\nsocket.onopen = function (e) {\n  console.log(\"Hello websocket\");\n  socket.send(\"Here's some text that the server is urgently awaiting!\");\n};\n\nsocket.onmessage = function (e) {\n  const data = JSON.parse(e.data);\n\n  // this.setState({ list: data });\n\n  console.log(\"DATA : \" + data + \"\\n\");\n};\n\nsocket.onclose = function (e) {\n  console.error(\"Chat socket closed unexpectedly\");\n};\n\n// export const test = () => {\n//   const socket = new WebSocket(\n//     // \"wss://protected-brook-89084.herokuapp.com/ws/location/\"\n//     \"wss://192.168.4.209\" + \"/ws/tag/1/\",\n//     \"e7b26a88637b30ca2cec67c94aedf2d2f9b4e214\"\n//   );\n\n//   socket.onopen = function (e) {\n//     console.log(\"Hello websocket\");\n//     const data = {\n//       message: JSON.stringify({\n//         type: \"add_tags\",\n//         tags: [\"meter_1phase.RI-F550.v1n\"],\n//       }),\n//     };\n//     socket.send(data);\n//   };\n\n//   socket.onmessage = function (e) {\n//     const data = JSON.parse(e.data);\n\n//     // this.setState({ list: data });\n\n//     console.log(\"DATA : \" + data + \"\\n\");\n//   };\n\n//   socket.onclose = function (e) {\n//     console.error(\"Chat socket closed unexpectedly\");\n//   };\n// };\n"]},"metadata":{},"sourceType":"module"}
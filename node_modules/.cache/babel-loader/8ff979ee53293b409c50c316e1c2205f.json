{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Scene = exports.Entity = exports.options = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar nonEntityPropNames = ['children', 'events', 'primitive'];\n\nvar filterNonEntityPropNames = function filterNonEntityPropNames(propName) {\n  return nonEntityPropNames.indexOf(propName) === -1;\n};\n\nvar options = {\n  // React needs this because React serializes.\n  // Preact does not because Preact runs `.setAttribute` on its own.\n  runSetAttributeOnUpdates: true\n};\nexports.options = options;\n/**\n * Call `.setAttribute()` on the `ref`, passing prop data directly to A-Frame.\n */\n\nfunction doSetAttribute(el, props, propName) {\n  if (propName === 'className') {\n    el.setAttribute('class', props.className);\n  } else if (props[propName] && props[propName].constructor === Function) {\n    return;\n  } else {\n    el.setAttribute(propName, props[propName]);\n  }\n}\n/**\n * Handle diffing of previous and current attributes.\n *\n * @param {Element} el\n * @param {Object|null} prevProps - Previous props map.\n * @param {Object} props - Current props map.\n */\n\n\nfunction updateAttributes(el, prevProps, props) {\n  var propName;\n\n  if (!props || prevProps === props) {\n    return;\n  } // Set attributes.\n\n\n  for (propName in props) {\n    if (!filterNonEntityPropNames(propName)) {\n      continue;\n    }\n\n    doSetAttribute(el, props, propName);\n  } // See if attributes were removed.\n\n\n  if (prevProps) {\n    for (propName in prevProps) {\n      if (!filterNonEntityPropNames(propName)) {\n        continue;\n      }\n\n      if (props[propName] === undefined) {\n        el.removeAttribute(propName);\n      }\n    }\n  }\n}\n/**\n * Render <a-entity>.\n * Tell React to use A-Frame's .setAttribute() on the DOM element for all prop initializations\n * and updates.\n */\n\n\nvar Entity = exports.Entity = function (_React$Component) {\n  _inherits(Entity, _React$Component);\n\n  function Entity() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Entity);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Entity.__proto__ || Object.getPrototypeOf(Entity)).call.apply(_ref, [this].concat(args))), _this), _this.initEntity = function (el) {\n      var props = _this.props;\n      var eventName;\n\n      if (!el) {\n        return;\n      } // Store.\n\n\n      _this.el = el; // Attach events.\n\n      if (props.events) {\n        for (eventName in props.events) {\n          addEventListeners(el, eventName, props.events[eventName]);\n        }\n      } // Update entity.\n\n\n      updateAttributes(el, null, props); // Allow ref.\n\n      if (props._ref) {\n        props._ref(el);\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n  /**\n   * In response to initial `ref` callback.\n   */\n\n\n  _createClass(Entity, [{\n    key: 'componentDidUpdate',\n\n    /**\n     * Handle updates after the initial render.\n     */\n    value: function componentDidUpdate(prevProps, prevState) {\n      var el = this.el;\n      var props = this.props; // Update events.\n\n      updateEventListeners(el, prevProps.events, props.events); // Update entity.\n\n      if (options.runSetAttributeOnUpdates) {\n        updateAttributes(el, prevProps, props);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var el = this.el;\n      var props = this.props;\n      var eventName;\n\n      if (props.events) {\n        // Remove events.\n        for (eventName in props.events) {\n          removeEventListeners(el, eventName, props.events[eventName]);\n        }\n      }\n    }\n    /**\n     * Render A-Frame DOM with ref: https://facebook.github.io/react/docs/refs-and-the-dom.html\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var props = this.props;\n      var elementName = this.isScene ? 'a-scene' : props.primitive || 'a-entity';\n      var propName; // Let through props that are OK to render initially.\n\n      var reactProps = {};\n\n      for (propName in props) {\n        if (['className', 'id', 'mixin'].indexOf(propName) !== -1 || propName.indexOf('data-') === 0) {\n          reactProps[propName] = props[propName];\n        }\n      }\n\n      return _react2.default.createElement(elementName, _extends({\n        ref: this.initEntity\n      }, reactProps), props.children);\n    }\n  }]);\n\n  return Entity;\n}(_react2.default.Component);\n/**\n * Render <a-scene>.\n * <a-scene> extends from <a-entity> in A-Frame so we reuse <Entity/>.\n */\n\n\nvar Scene = exports.Scene = function (_Entity) {\n  _inherits(Scene, _Entity);\n\n  function Scene(props) {\n    _classCallCheck(this, Scene);\n\n    var _this2 = _possibleConstructorReturn(this, (Scene.__proto__ || Object.getPrototypeOf(Scene)).call(this, props));\n\n    _this2.isScene = true;\n    return _this2;\n  }\n\n  return Scene;\n}(Entity);\n/**\n * Handle diffing of previous and current event maps.\n *\n * @param {Element} el\n * @param {Object} prevEvents - Previous event map.\n * @param {Object} events - Current event map.\n */\n\n\nfunction updateEventListeners(el, prevEvents, events) {\n  var eventName;\n\n  if (!prevEvents || !events || prevEvents === events) {\n    return;\n  }\n\n  for (eventName in events) {\n    // Didn't change.\n    if (prevEvents[eventName] === events[eventName]) {\n      continue;\n    } // If changed, remove old previous event listeners.\n\n\n    if (prevEvents[eventName]) {\n      removeEventListeners(el, eventName, prevEvents[eventName]);\n    } // Add new event listeners.\n\n\n    addEventListeners(el, eventName, events[eventName]);\n  } // See if event handlers were removed.\n\n\n  for (eventName in prevEvents) {\n    if (!events[eventName]) {\n      removeEventListeners(el, eventName, prevEvents[eventName]);\n    }\n  }\n}\n/**\n * Register event handlers for an event name to ref.\n *\n * @param {Element} el - DOM element.\n * @param {string} eventName\n * @param {array|function} eventHandlers - Handler function or array of handler functions.\n */\n\n\nfunction addEventListeners(el, eventName, handlers) {\n  var handler;\n  var i;\n\n  if (!handlers) {\n    return;\n  } // Convert to array.\n\n\n  if (handlers.constructor === Function) {\n    handlers = [handlers];\n  } // Register.\n\n\n  for (i = 0; i < handlers.length; i++) {\n    el.addEventListener(eventName, handlers[i]);\n  }\n}\n/**\n * Unregister event handlers for an event name to ref.\n *\n * @param {Element} el - DOM element.\n * @param {string} eventName\n * @param {array|function} eventHandlers - Handler function or array of handler functions.\n */\n\n\nfunction removeEventListeners(el, eventName, handlers) {\n  var handler;\n  var i;\n\n  if (!handlers) {\n    return;\n  } // Convert to array.\n\n\n  if (handlers.constructor === Function) {\n    handlers = [handlers];\n  } // Unregister.\n\n\n  for (i = 0; i < handlers.length; i++) {\n    el.removeEventListener(eventName, handlers[i]);\n  }\n}","map":{"version":3,"sources":["/Users/kittathat/Documents/window/SE/Year 4/Year 4 Project/Bluetooth-frontend/node_modules/aframe-react/dist/index.js"],"names":["Object","defineProperty","exports","value","Scene","Entity","options","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","nonEntityPropNames","filterNonEntityPropNames","propName","indexOf","runSetAttributeOnUpdates","doSetAttribute","el","setAttribute","className","Function","updateAttributes","prevProps","removeAttribute","_React$Component","_ref","_temp","_this","_ret","_len","args","Array","_key","getPrototypeOf","apply","concat","initEntity","eventName","events","addEventListeners","componentDidUpdate","prevState","updateEventListeners","componentWillUnmount","removeEventListeners","render","elementName","isScene","primitive","reactProps","createElement","ref","children","Component","_Entity","_this2","prevEvents","handlers","handler","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Scene = exports.Entity = exports.options = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar nonEntityPropNames = ['children', 'events', 'primitive'];\nvar filterNonEntityPropNames = function filterNonEntityPropNames(propName) {\n  return nonEntityPropNames.indexOf(propName) === -1;\n};\n\nvar options = {\n  // React needs this because React serializes.\n  // Preact does not because Preact runs `.setAttribute` on its own.\n  runSetAttributeOnUpdates: true\n};\nexports.options = options;\n\n/**\n * Call `.setAttribute()` on the `ref`, passing prop data directly to A-Frame.\n */\n\nfunction doSetAttribute(el, props, propName) {\n  if (propName === 'className') {\n    el.setAttribute('class', props.className);\n  } else if (props[propName] && props[propName].constructor === Function) {\n    return;\n  } else {\n    el.setAttribute(propName, props[propName]);\n  }\n}\n\n/**\n * Handle diffing of previous and current attributes.\n *\n * @param {Element} el\n * @param {Object|null} prevProps - Previous props map.\n * @param {Object} props - Current props map.\n */\nfunction updateAttributes(el, prevProps, props) {\n  var propName;\n\n  if (!props || prevProps === props) {\n    return;\n  }\n\n  // Set attributes.\n  for (propName in props) {\n    if (!filterNonEntityPropNames(propName)) {\n      continue;\n    }\n    doSetAttribute(el, props, propName);\n  }\n\n  // See if attributes were removed.\n  if (prevProps) {\n    for (propName in prevProps) {\n      if (!filterNonEntityPropNames(propName)) {\n        continue;\n      }\n      if (props[propName] === undefined) {\n        el.removeAttribute(propName);\n      }\n    }\n  }\n}\n\n/**\n * Render <a-entity>.\n * Tell React to use A-Frame's .setAttribute() on the DOM element for all prop initializations\n * and updates.\n */\n\nvar Entity = exports.Entity = function (_React$Component) {\n  _inherits(Entity, _React$Component);\n\n  function Entity() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Entity);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Entity.__proto__ || Object.getPrototypeOf(Entity)).call.apply(_ref, [this].concat(args))), _this), _this.initEntity = function (el) {\n      var props = _this.props;\n      var eventName;\n\n      if (!el) {\n        return;\n      }\n\n      // Store.\n      _this.el = el;\n\n      // Attach events.\n      if (props.events) {\n        for (eventName in props.events) {\n          addEventListeners(el, eventName, props.events[eventName]);\n        }\n      }\n\n      // Update entity.\n      updateAttributes(el, null, props);\n\n      // Allow ref.\n      if (props._ref) {\n        props._ref(el);\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n  /**\n   * In response to initial `ref` callback.\n   */\n\n\n  _createClass(Entity, [{\n    key: 'componentDidUpdate',\n\n\n    /**\n     * Handle updates after the initial render.\n     */\n    value: function componentDidUpdate(prevProps, prevState) {\n      var el = this.el;\n      var props = this.props;\n\n      // Update events.\n      updateEventListeners(el, prevProps.events, props.events);\n\n      // Update entity.\n      if (options.runSetAttributeOnUpdates) {\n        updateAttributes(el, prevProps, props);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var el = this.el;\n      var props = this.props;\n      var eventName;\n\n      if (props.events) {\n        // Remove events.\n        for (eventName in props.events) {\n          removeEventListeners(el, eventName, props.events[eventName]);\n        }\n      }\n    }\n\n    /**\n     * Render A-Frame DOM with ref: https://facebook.github.io/react/docs/refs-and-the-dom.html\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var props = this.props;\n      var elementName = this.isScene ? 'a-scene' : props.primitive || 'a-entity';\n      var propName;\n\n      // Let through props that are OK to render initially.\n      var reactProps = {};\n      for (propName in props) {\n        if (['className', 'id', 'mixin'].indexOf(propName) !== -1 || propName.indexOf('data-') === 0) {\n          reactProps[propName] = props[propName];\n        }\n      }\n\n      return _react2.default.createElement(elementName, _extends({ ref: this.initEntity }, reactProps), props.children);\n    }\n  }]);\n\n  return Entity;\n}(_react2.default.Component);\n\n/**\n * Render <a-scene>.\n * <a-scene> extends from <a-entity> in A-Frame so we reuse <Entity/>.\n */\n\n\nvar Scene = exports.Scene = function (_Entity) {\n  _inherits(Scene, _Entity);\n\n  function Scene(props) {\n    _classCallCheck(this, Scene);\n\n    var _this2 = _possibleConstructorReturn(this, (Scene.__proto__ || Object.getPrototypeOf(Scene)).call(this, props));\n\n    _this2.isScene = true;\n    return _this2;\n  }\n\n  return Scene;\n}(Entity);\n\n/**\n * Handle diffing of previous and current event maps.\n *\n * @param {Element} el\n * @param {Object} prevEvents - Previous event map.\n * @param {Object} events - Current event map.\n */\n\n\nfunction updateEventListeners(el, prevEvents, events) {\n  var eventName;\n\n  if (!prevEvents || !events || prevEvents === events) {\n    return;\n  }\n\n  for (eventName in events) {\n    // Didn't change.\n    if (prevEvents[eventName] === events[eventName]) {\n      continue;\n    }\n\n    // If changed, remove old previous event listeners.\n    if (prevEvents[eventName]) {\n      removeEventListeners(el, eventName, prevEvents[eventName]);\n    }\n\n    // Add new event listeners.\n    addEventListeners(el, eventName, events[eventName]);\n  }\n\n  // See if event handlers were removed.\n  for (eventName in prevEvents) {\n    if (!events[eventName]) {\n      removeEventListeners(el, eventName, prevEvents[eventName]);\n    }\n  }\n}\n\n/**\n * Register event handlers for an event name to ref.\n *\n * @param {Element} el - DOM element.\n * @param {string} eventName\n * @param {array|function} eventHandlers - Handler function or array of handler functions.\n */\nfunction addEventListeners(el, eventName, handlers) {\n  var handler;\n  var i;\n\n  if (!handlers) {\n    return;\n  }\n\n  // Convert to array.\n  if (handlers.constructor === Function) {\n    handlers = [handlers];\n  }\n\n  // Register.\n  for (i = 0; i < handlers.length; i++) {\n    el.addEventListener(eventName, handlers[i]);\n  }\n}\n\n/**\n * Unregister event handlers for an event name to ref.\n *\n * @param {Element} el - DOM element.\n * @param {string} eventName\n * @param {array|function} eventHandlers - Handler function or array of handler functions.\n */\nfunction removeEventListeners(el, eventName, handlers) {\n  var handler;\n  var i;\n\n  if (!handlers) {\n    return;\n  }\n\n  // Convert to array.\n  if (handlers.constructor === Function) {\n    handlers = [handlers];\n  }\n\n  // Unregister.\n  for (i = 0; i < handlers.length; i++) {\n    el.removeEventListener(eventName, handlers[i]);\n  }\n}"]},"metadata":{},"sourceType":"script"}